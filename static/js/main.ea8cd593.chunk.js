(this["webpackJsonpmake-pathfinding-visualizer"]=this["webpackJsonpmake-pathfinding-visualizer"]||[]).push([[0],{243:function(t,e,n){},244:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(27),c=n.n(o),i=n(14),u=n(102),s=n(4),l=n(28),d=n(1),p=n(16),f=n(105),b=n.n(f),v={};Object(p.a)(Array(20).keys()).forEach((function(t){Object(p.a)(Array(50).keys()).forEach((function(e){v["".concat(t,"-").concat(e)]={index:"".concat(t,"-").concat(e),x:e,y:t,pointType:"unvisited",wall:!1,visited:!1,cost:1,shortest:1/0,prev:null}}))}));var h={boardCoordinate:v,startPoint:"5-5",endPoint:"10-10",countAxisX:50,countAxisY:20,currentSearchPoints:[],algorithm:"dijkstra",visitedPoints:[],shortestPath:[],dragTarget:null},j="gridBox/setStartPoint",y="gridBox/setEndPoint",O="controllor/resetState",m="controller/updateBox",E="controller/updateShortestPath",g="updateDragTarget";function x(t){var e=t.payload;return{type:m,payload:e}}var P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(d.a)(Object(d.a)({},t),{},{startPoint:e.payload});case y:return Object(d.a)(Object(d.a)({},t),{},{endPoint:e.payload});case O:return h;case m:var n=e.payload,a=Object.keys(n),r=Object(d.a)({},t.boardCoordinate[e.payload.point]);return a.forEach((function(t){r[t]=n[t]})),Object(d.a)(Object(d.a)({},t),{},{boardCoordinate:Object(d.a)(Object(d.a)({},t.boardCoordinate),{},Object(l.a)({},e.payload.point,r))});case E:switch(e.payload.algorithm){case"Daijkstra":var o=function(){var e=[],n=t.startPoint,a=t.endPoint,r=b()(t.boardCoordinate);r[n]=Object(d.a)(Object(d.a)({},r[n]),{},{shortest:0});for(var o=Object.values(r).filter((function(t){return"unvisited"===t.pointType&&t.shortest!==1/0})),c=!1;o.length>=1&&!1===c;){for(var i=o.sort((function(t,e){return t.shortest>=e.shortest?1:-1})),u=function(t){var n=i[t];if(n.index===a)return c=!0,"break";r[n.index].pointType="visited",e.push(n);var o=n.x,u=n.y,s="".concat(u+1,"-").concat(o),l="".concat(u-1,"-").concat(o),d=["".concat(u,"-").concat(o-1),s,l,"".concat(u,"-").concat(o+1)].filter((function(t){return void 0!==r[t]&&"unvisited"===r[t].pointType}));d.length>0&&d.forEach((function(t){r[t].shortest>r[t].cost+n.shortest&&(r[t].shortest=n.shortest,r[t].prev=n.index)}))},s=0;s<i.length;s++){if("break"===u(s))break}o=Object.values(r).filter((function(t){return"unvisited"===t.pointType&&t.shortest!==1/0}))}for(var l=[],p=a;null!==p;)void 0!==r[p]?null!==(p=r[p].prev)&&(l.push(p),r[p].pointType="path"):p=null;return l.reverse(),{v:Object(d.a)(Object(d.a)({},t),{},{visitedPoints:e,shortestPath:l})}}();if("object"===typeof o)return o.v;default:return t}case g:var c=e.payload;return Object(d.a)(Object(d.a)({},t),{},{dragTarget:c});default:return t}},k=function(){return r.a.createElement("article",{id:"topbar"},r.a.createElement("section",{className:"title"},"Pathfinding Visualizer"))},C=n(6),T=function(t){var e=t.x,n=t.y,o=t.pointType,c=t.visited,i=t.wall,u=Object(s.c)((function(t){return{startPoint:t.startPoint,endPoint:t.endPoint,dragTarget:t.dragTarget}})),l=u.startPoint,d=u.endPoint,p=u.dragTarget,f="".concat(n,"-").concat(e);Object(a.useEffect)((function(){"path"===o?O("box path"):"unvisited"===o?O("box"):"visited"===o?O("box visited"):"wall"===o&&O("box wall"),f===l?O("box start-point"):f===d&&O("box end-point")}),[l,d,f,o,i,c]);var b=Object(a.useState)("box"),v=Object(C.a)(b,2),h=v[0],O=v[1],m=Object(s.c)((function(t){return{boardCoordinate:t.boardCoordinate}})).boardCoordinate,E=Object(s.b)(),P=Object(a.useCallback)((function(t){return E(x({payload:t}))}),[E]),k=Object(a.useCallback)((function(t){E(function(t){var e=t.payload;return{type:j,payload:e}}({payload:t}))}),[E]),T=Object(a.useCallback)((function(t){E(function(t){var e=t.payload;return{type:y,payload:e}}({payload:t}))}),[E]),w=Object(a.useCallback)((function(t){E(function(t){var e=t.payload;return{type:g,payload:e}}({payload:t}))}),[E]);return r.a.createElement("div",{id:"column ".concat(f),className:h,onContextMenu:function(t){t.preventDefault(),T(f)},onClick:function(t){t.preventDefault(),P({point:f,pointType:"wall"===m[f].pointType?"unvisited":"wall"})},onDragEnter:function(t){t.stopPropagation(),t.preventDefault(),f===l?w("startPoint"):f===d?w("endPoint"):null===p&&P({point:f,pointType:"wall"===m[f].pointType?"unvisited":"wall"})},onDragOver:function(t){t.preventDefault()},onDragEnd:function(t){t.preventDefault(),w(null)},onDrop:function(t){"startPoint"===p?k(f):"endPoint"===p&&T(f)},onMouseEnter:function(){O(h+" hover")},onMouseLeave:function(){O(h.replace(" hover",""))},draggable:!0})},w=function(){var t=Object(s.c)((function(t){return{countAxisY:t.countAxisY}})).countAxisY,e=Object(s.c)((function(t){return{boardCoordinate:t.boardCoordinate}})).boardCoordinate,n=Object.keys(e).map((function(t){var n=e[t],a=n.x,o=n.y,c=n.pointType,i=n.visited,u=n.wall,s=n.cost,l="".concat(o,"-").concat(a);return r.a.createElement(T,{x:a,y:o,pointType:c,visited:i,wall:u,cost:s,key:l})}));return r.a.createElement("section",{className:"grid-board"},function(){var e=[];return Object(p.a)(Array(t).keys()).forEach((function(t){var a=n.filter((function(e){return e.props.y===t}));e.push(r.a.createElement("div",{className:"row",key:"row-".concat(t)},a))})),e}())},D=n(30),S=function(t,e,n){var a=[],r=Object(D.cloneDeep)(t),o=0;r[e]=Object(d.a)(Object(d.a)({},r[e]),{},{shortest:0,order:o}),o=1;for(var c=Object.values(r).filter((function(t){return"unvisited"===t.pointType&&t.shortest!==1/0})),i=!1;c.length>=1&&!1===i;){for(var u=c.sort((function(t,e){return t.shortest>=e.shortest?1:-1})),s=function(t){var e=u[t];if(e.index===n)return i=!0,"break";r[e.index].pointType="visited",r[e.index].order=o,o+=1,a.push(e);var c=e.x,s=e.y,l="".concat(s+1,"-").concat(c),d="".concat(s-1,"-").concat(c),p=["".concat(s,"-").concat(c-1),l,d,"".concat(s,"-").concat(c+1)].filter((function(t){return void 0!==r[t]&&"unvisited"===r[t].pointType}));p.length>0&&p.forEach((function(t){r[t].shortest>r[t].cost+e.shortest&&(r[t].shortest=e.shortest,r[t].prev=e.index)}))},l=0;l<u.length;l++){if("break"===s(l))break}c=Object.values(r).filter((function(t){return"unvisited"===t.pointType&&t.shortest!==1/0}))}for(var p=[],f=n;null!==f;)void 0!==r[f]?null!==(f=r[f].prev)&&(p.push(f),r[f].pointType="path",o+=1):f=null;return p.reverse(),{visitedPoints:a,shortestPath:p}},N=function(t,e,n){return Math.abs(n[t].x-n[e].x)+Math.abs(n[t].y-n[e].y)},A=function(t,e,n){var a=Object(D.cloneDeep)(t),r=[],o=[],c=[],i=[];a[e]=Object(d.a)(Object(d.a)({},a[e]),{},{distanceFromStart:0,heuristicDistance:0,fValue:null,open:!1,closed:!1,prev:null});for(var u=a[e];u.index!==n;){(function(t){var e=t.x,n=t.y,r="".concat(n+1,"-").concat(e),o="".concat(n-1,"-").concat(e);return["".concat(n,"-").concat(e-1),r,o,"".concat(n,"-").concat(e+1)].filter((function(t){return void 0!==a[t]&&"unvisited"===a[t].pointType}))})(u).forEach((function(t){if(!c.includes(t)&&!i.includes(t)){c.push(t);var r=Math.abs(a[e].x-a[t].x)+Math.abs(a[e].y-a[t].y),o=N(n,t,a),s=r+o;(s<a[t].fValue||void 0===a[t].fValue)&&(a[t].distanceFromStart=r,a[t].heuristicDistance=o,a[t].fValue=s,a[t].prev=u.index)}})),i.push(u.index);var s=function(t){return t.map((function(t){return a[t]})).sort((function(t,e){return t.fValue<=e.fValue?-1:1}))[0]}(c);c.splice(c.indexOf(s.index),1),r.push(u),u=s}for(var l=a[n].prev;null!=l;)o.push(l),l=a[l].prev;return o.reverse(),{visitedPoints:r,shortestPath:o}},B=function(t){var e=t.startButtonClick,n=(t.restartButtonClick,t.trigger);return r.a.createElement("div",{className:"button-wrap"},r.a.createElement("button",{className:"button start",onClick:e,disabled:n},"START"))},M=function(t){var e=t.onClick;return r.a.createElement("div",{className:"button-wrap"},r.a.createElement("button",{className:"button reset",onClick:e},"RESET"))},V=function(t){var e=t.onChange;return r.a.createElement("div",{className:"button-wrap"},r.a.createElement("form",null,r.a.createElement("select",{className:"select-container",name:"algorithm",onChange:e},r.a.createElement("option",{value:"A-star"},"A-star"),r.a.createElement("option",{value:"Daijkstra"},"Daijkstra"))))},Y=function(){var t=Object(s.c)((function(t){return{boardCoordinate:t.boardCoordinate,startPoint:t.startPoint,endPoint:t.endPoint}})),e=t.boardCoordinate,n=t.startPoint,o=t.endPoint,c=Object(s.b)(),i=Object(a.useCallback)((function(t){return c(x({payload:t}))}),[c]),u=Object(a.useState)(!1),l=Object(C.a)(u,2),d=l[0],p=l[1],f=Object(a.useState)(0),b=Object(C.a)(f,2),v=b[0],h=b[1],j=Object(a.useState)(0),y=Object(C.a)(j,2),m=y[0],E=y[1],g=Object(a.useState)("00:00:00"),P=Object(C.a)(g,2),k=(P[0],P[1]),T=Object(a.useState)(0),w=Object(C.a)(T,2),D=w[0],N=w[1],Y=Object(a.useState)([]),z=Object(C.a)(Y,2),I=z[0],R=z[1],F=Object(a.useState)([]),J=Object(C.a)(F,2),L=J[0],W=J[1],X=Object(a.useRef)();function q(){void 0!==L[v]?(i({point:L[v].index,pointType:"visited"}),N(D+1),h(v+1)):(i({point:I[m],pointType:"path"}),E(m+1))}Object(a.useEffect)((function(){X.current=q})),Object(a.useEffect)((function(){if(d){var t=setInterval((function(){X.current()}),3);return function(){clearInterval(t)}}}),[d]);var G=Object(a.useCallback)((function(){c({type:O})}),[c]),H=Object(a.useState)("A-star"),K=Object(C.a)(H,2),Q=K[0],U=K[1];return r.a.createElement("section",{id:"controller"},r.a.createElement("div",{className:"right"},r.a.createElement(V,{onChange:function(t){U(t.target.value)}}),r.a.createElement(B,{startButtonClick:function(){var t=function(t){return"Daijkstra"===t?S(e,n,o):"A-star"===t?A(e,n,o):void 0}(Q),a=t.visitedPoints,r=t.shortestPath;W(a),R(r),p(!0)},restartButtonClick:function(){p(!1)},trigger:d}),r.a.createElement(M,{onClick:function(){p(!1),h(0),E(0),N(0),k("00:00:00"),G()}}),r.a.createElement("div",{className:"counter"},r.a.createElement("div",{className:"counter-box"},r.a.createElement("p",{className:"move-counter"},D)))))},z=function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement(k,null)),r.a.createElement("main",null,r.a.createElement("article",null,r.a.createElement(Y,null),r.a.createElement(w,null))))},I=(n(243),Object(i.createStore)(P,Object(u.composeWithDevTools)()));c.a.render(r.a.createElement(s.a,{store:I},r.a.createElement(z,null)),document.getElementById("root"))}},[[244,1,2]]]);
//# sourceMappingURL=main.ea8cd593.chunk.js.map